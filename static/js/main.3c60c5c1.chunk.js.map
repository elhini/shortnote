{"version":3,"sources":["utils/AsyncUtils.ts","config/client.js","api-clients/base.ts","api-clients/users.js","utils/LocalStorage.js","utils/AuthUtils.js","pages/Landing/Landing.tsx","pages/Registration/Registration.tsx","pages/Login/Login.tsx","api-clients/notes.js","api-clients/settings.js","utils/StringUtils.js","components/Filters/Filters.tsx","components/Sort/Sort.tsx","components/TextEditor/TextEditor.tsx","components/Form/Form.tsx","utils/DateUtils.js","components/List/List.tsx","components/Alert/Alert.tsx","components/ReadonlyNote/ReadonlyNote.tsx","pages/Notes/Notes.tsx","api-clients/sessions.js","components/Users/Users.tsx","components/Settings/Settings.tsx","pages/Admin/Admin.tsx","AppRouter.js","serviceWorker.js","index.js"],"names":["AsyncUtils","url","method","params","callback","body","JSON","stringify","fetch","headers","Accept","Content-Type","credentials","then","res","errorStr","status","statusText","json","error","catch","console","client","apiHost","BaseApiClient","collection","component","Object","classCallCheck","this","window","location","hostname","split","config","urlPostfix","item","cb","_this","field","getWaitingStateField","setState","defineProperty","sendJSON","handleRes","alert","handleReq","id","_id","UsersApiClient","possibleConstructorReturn","getPrototypeOf","call","login","password","ticket","LocalStorage","key","value","localStorage","setItem","getItem","AuthUtils","session","getSession","expireDate","Date","toISOString","parse","get","set","isLoggedIn","isAdmin","Landing","react_default","a","createElement","React","Component","Registration","state","redirectToReferrer","submitting","register","e","preventDefault","assertThisInitialized","loggedAs","setSession","target","_this2","from","props","pathname","react_router","to","className","type","name","onChange","onInputChange","Button","variant","onClick","disabled","Login","isLoginPage","NotesApiClient","SettingsApiClient","StringUtils","text","string","toLowerCase","includes","Filters","filters","onFiltersChange","react_select_browser_esm","tags","isMulti","options","v","Sort","sort","fieldOptions","map","o","directionOptions","onSortChange","direction","TextEditor","RichTextEditor","createValueFromString","toString","react_rte_default","Form","titleInput","publicLinkInput","focus","select","document","execCommand","onPublicLinkCopy","err","publicLink","origin","publicLinkCont","Fragment","readOnly","ref","i","IconButton","title","copyPublicLink","FileCopy_default","onSubmit","onItemChange","autoFocus","htmlFor","checked","publicAccess","TextEditor_TextEditor","dist_react_select_browser_esm","onCreateOption","onCreateTag","submitEnabled","sending","changed","DateUtils","date","replace","substr","List","onDelete","bind","stopPropagation","onDeleteItem","html","DOMParser","parseFromString","textContent","nodes","items","opened","tag","data-id","label","aside","toStr","dateOfCreate","dateOfUpdate","confirm","Delete_default","react_router_dom","strip","length","loading","buildNodes","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","useStyles","makeStyles","theme","backgroundColor","green","palette","dark","primary","main","amber","icon","fontSize","iconVariant","opacity","marginRight","spacing","message","display","alignItems","AlertContent","classes","onClose","other","objectWithoutProperties","Icon","SnackbarContent","assign","clsx","aria-describedby","action","aria-label","color","Close_default","Alert","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","handleClose","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ReadonlyNote","dangerouslySetInnerHTML","__html","Notes","accessLevels","history","stopListeningHistory","notesApiClient","autosaveTimeoutID","match","buildEmptyItem","formChanged","publicLinkCopied","formManualSubmitEnabled","listen","getItemByLocation","onOpenNew","onItemChangePartially","getItemIDFromLocation","getPublicItemIDFromLocation","find","publicID","getPublic","_this3","Promise","resolve","reject","getAll","settings","setting","notesFormManualSubmitEnabled","_this4","isPublicItemLocation","all","loadSettings","loadItems","emptyItem","_this5","arguments","undefined","updateItem","createItem","create","update","obj1","obj2","item1","item2","isObjectsEqual","isNew","_this6","objectSpread","isChanged","isItemsDiffer","filter","push","clearTimeout","setTimeout","_this7","remove","openedItem","newFilters","newSort","_this8","useTextFilter","matchByText","isContains","filterTagIDs","t","itemTagIDs","useTagsFilter","matchByTags","some","itemTagID","sign","i1","i2","v1","v2","reduce","concat","tagName","maxID","Math","max","apply","slice","_this9","ReadonlyNote_ReadonlyNote_ReadonlyNote","AddCircle_default","renderBody","filteredItems","filterAndSortItems","buildTagList","form","Form_Form_Form","Filters_Filters_Filters","Sort_Sort_Sort","List_List_List","SessionsApiClient","getSessionsPromise","cmp","sessions","Users","usersAPIClient","users","sessionsByUser","updatingUserID","promises","result","_","groupBy","s","userID","user","blocked","u","onControlClick","blockBtn","renderActionBtn","Block_default","unblockBtn","deleteBtn","userSessions","activeSessions","active","TableRow","TableCell","scope","registrationDate","Check_default","renderActionBtns","sortBy","CircularProgress","Table","TableHead","TableBody","renderTableRow","Settings","FormControl","FormLabel","FormGroup","FormControlLabel","control","Checkbox","handleCheck","TabPanel","children","activeTabID","tabID","Admin","currTabID","setCurrTabID","tabComponents","Users_Users_Users","Settings_Settings_Settings","tabIDs","keys","tabs","Tab","tabPanels","Tabs","event","newTabID","AdminRoute","_ref","rest","render","PrivateRoute","_ref2","Head","logout","isNotLoggedIn","private","isNotAdmin","admin","exact","logoutLabel","logoutLink","getNavLink","loginLink","getAuthState","AppRouter","HeadWithRouter","withRouter","path","Boolean","ReactDOM","AppRouter_AppRouter","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3c60c5c1.chunk.js","sourcesContent":["export default class AsyncUtils {\n    static sendJSON(url: string, method: string, params: any, callback: (res: any) => any) {\n        var body = params ? JSON.stringify(params) : null;\n        fetch(url, {\n            method: method,\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            credentials: \"include\", // to enable cookies: stackoverflow.com/questions/34558264\n            body: body\n        })\n        .then(res => {\n            var errorStr = \n                'status: ' + res.status + ', ' + \n                'statusText: ' + res.statusText + ', ' + \n                'url: ' + res.url;\n            return res.status === 200 ? res.json() : {error: errorStr};\n        })\n        .then(res => callback(res))\n        .catch(error => console.error('Error:', error));\n    }\n} ","export default {\n    apiHost: 'https://shortnote.herokuapp.com'\n}","import AsyncUtils from '../utils/AsyncUtils';\nimport config from '../config/client';\n\ntype Callback = (res: any) => void;\n\nexport default class BaseApiClient {\n    private url: string;\n\n    constructor(public collection: string, public component: React.Component) {\n        var isPublicHost = window.location.hostname.split('.')[0] === 'shortnote';\n        var apiHost = isPublicHost ? config.apiHost : '';\n        this.url = apiHost + '/api/' + collection;\n    }\n\n    getWaitingStateField(method: string): string {\n        return method === 'GET' ? 'loading' : 'submitting';\n    }\n\n    handleReq(method: string, urlPostfix: string, item: any, cb: Callback){\n        if (this.component){ \n            var field = this.getWaitingStateField(method);\n            this.component.setState({ error: '', [field]: true });\n        }\n        AsyncUtils.sendJSON(this.url + urlPostfix, method, item, (res) => {\n            this.handleRes(cb, res, method);\n        });\n    }\n\n    handleRes(cb: Callback, res: any, method: string){\n        if (this.component){ \n            var field = this.getWaitingStateField(method);\n            this.component.setState({ error: res.error || '', [field]: false });\n        }\n        else if (res.error) {\n            alert(JSON.stringify(res.error));\n        }\n        if (res.error){\n            return;\n        }\n        cb(res);\n    }\n    \n    create(item: any, cb: Callback) {\n        this.handleReq('POST', '', item, cb);\n    }\n    getAll(cb: Callback) {\n        this.handleReq('GET', '', null, cb);\n    }\n    get(id: string, cb: Callback) {\n        this.handleReq('GET', '/'+id, null, cb);\n    }\n    update(item: any, cb: Callback) {\n        this.handleReq('PUT', '/'+item._id, item, cb);\n    }\n    remove(item: any, cb: Callback) {\n        this.handleReq('DELETE', '/'+item._id, null, cb);\n    }\n} ","import BaseApiClient from './base';\n\nexport default class UsersApiClient extends BaseApiClient {\n    constructor(component) {\n        super('users', component);\n    }\n\n    register(login, password, cb) {\n        var ticket = {login, password};\n        this.handleReq('POST', '/register', ticket, cb);\n    }\n\n    login(login, password, cb) {\n        var ticket = {login, password};\n        this.handleReq('POST', '/login', ticket, cb);\n    }\n\n    logout(cb) {\n        this.handleReq('POST', '/logout', null, cb);\n    }\n} ","export default class LocalStorage {\n    static set(key, value) {\n        localStorage.setItem(key, value);\n    }\n\n    static get(key) {\n        return localStorage.getItem(key);\n    }\n} ","import LocalStorage from \"./LocalStorage\";\n    \nexport default class AuthUtils {\n    static isLoggedIn() {\n        var session = this.getSession();\n        return session && session.expireDate > new Date().toISOString();\n    }\n    \n    static getSession() {\n        return this.session || JSON.parse(LocalStorage.get('session'));\n    }\n    \n    static setSession(session) {\n        LocalStorage.set('session', JSON.stringify(session));\n        this.session = session;\n    }\n\n    static isAdmin() {\n        var session = this.getSession();\n        return this.isLoggedIn() && session.isAdmin;\n    }\n};","import React from \"react\";\n\nexport default class Landing extends React.Component {\n    render() {\n        return (\n            <h2>Lite and simple app</h2>\n        )\n    }\n}","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport './Registration.css';\nimport AuthUtils from '../../utils/AuthUtils';\nimport UsersApiClient from '../../api-clients/users';\nimport Button from '@material-ui/core/Button';\nimport { Session } from '../../types/index';\nimport { RouteComponentProps } from \"react-router-dom\";\n\nexport default class Registration extends React.Component<RouteComponentProps, {}> {\n    state = { redirectToReferrer: false, login: '', password: '', submitting: false, error: '' };\n  \n    register = (e: React.MouseEvent) => {\n      e.preventDefault();\n      if (!this.state.login){\n        return this.setState({ error: 'login is empty' });\n      }\n      if (!this.state.password){\n        return this.setState({ error: 'password is empty' });\n      }\n      (new UsersApiClient(this)).register(this.state.login, this.state.password, (session: Session) => {\n        session.loggedAs = this.state.login;\n        AuthUtils.setSession(session);\n        this.setState({ redirectToReferrer: true });\n      });\n    };\n\n    onInputChange(field: string, e: React.ChangeEvent<HTMLInputElement>) {\n      this.setState({[field]: e.target.value});\n    }\n  \n    render() {\n      let { from } = this.props.location.state || { from: { pathname: \"/notes\" } };\n      let { redirectToReferrer } = this.state;\n  \n      if (redirectToReferrer) return <Redirect to={from} />;\n\n      return (\n        <form id=\"registerForm\">\n          <h2>Register a new account</h2>\n          <div className=\"fieldBlock\">\n            <label>Login:</label>\n            <input type=\"text\" name=\"login\" value={this.state.login} onChange={e => this.onInputChange('login', e)} />\n          </div>\n          <div className=\"fieldBlock\">\n            <label>Password:</label>\n            <input type=\"password\" name=\"password\" value={this.state.password} onChange={e => this.onInputChange('password', e)} />\n          </div>\n          <Button variant=\"outlined\" type=\"submit\" id=\"submitRegisterForm\" onClick={e => this.register(e)} disabled={this.state.submitting}>\n            {this.state.submitting ? 'Registering...' : 'Register'}\n          </Button><br />\n          {this.state.error && <div className=\"alert error\" id=\"registerError\">{this.state.error}</div>}\n        </form>\n      );\n    }\n}","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport './Login.css';\nimport AuthUtils from '../../utils/AuthUtils';\nimport UsersApiClient from '../../api-clients/users';\nimport Button from '@material-ui/core/Button';\nimport { Session } from '../../types/index';\nimport { RouteComponentProps } from \"react-router-dom\";\n\nexport default class Login extends React.Component<RouteComponentProps, {}> {\n    state = { redirectToReferrer: false, login: '', password: '', submitting: false, error: '' };\n  \n    login = (e: React.MouseEvent) => {\n      e.preventDefault();\n      if (!this.state.login){\n        return this.setState({ error: 'login is empty' });\n      }\n      if (!this.state.password){\n        return this.setState({ error: 'password is empty' });\n      }\n      (new UsersApiClient(this)).login(this.state.login, this.state.password, (session: Session) => {\n        session.loggedAs = this.state.login;\n        AuthUtils.setSession(session);\n        this.setState({ redirectToReferrer: true });\n      });\n    };\n\n    onInputChange(field: string, e: React.ChangeEvent<HTMLInputElement>) {\n      this.setState({[field]: e.target.value});\n    }\n  \n    render() {\n      let { from } = this.props.location.state || { from: { pathname: \"/notes\" } };\n      let { redirectToReferrer } = this.state;\n  \n      if (redirectToReferrer) return <Redirect to={from} />;\n\n      var isLoginPage = this.props.location.pathname === '/login';\n      var isLoggedIn = AuthUtils.isLoggedIn();\n\n      return (\n        isLoggedIn ? (\n          'You are already logged in'\n        ) : (\n          <div>\n            {isLoginPage ? '' : <p>You must log in to view the page at {from.pathname}</p>}\n            <form id=\"loginForm\">\n              <h2>Log in to an existing account</h2>\n              <div className=\"fieldBlock\">\n                <label>Login:</label>\n                <input type=\"text\" name=\"login\" value={this.state.login} onChange={e => this.onInputChange('login', e)} />\n              </div>\n              <div className=\"fieldBlock\">\n                <label>Password:</label>\n                <input type=\"password\" name=\"password\" value={this.state.password} onChange={e => this.onInputChange('password', e)} />\n              </div>\n              <Button variant=\"outlined\" type=\"submit\" id=\"submitLoginForm\" onClick={e => this.login(e)} disabled={this.state.submitting}>\n                {this.state.submitting ? 'Logging in...' : 'Log in'}\n              </Button><br />\n              {this.state.error && <div className=\"alert error\" id=\"loginError\">{this.state.error}</div>}\n            </form>\n          </div>\n        )\n      );\n    }\n}","import BaseApiClient from './base';\n\nexport default class NotesApiClient extends BaseApiClient {\n    constructor(component) {\n        super('notes', component);\n    }\n    getPublic(id, cb) {\n        this.handleReq('GET', '/public/'+id, null, cb);\n    }\n} ","import BaseApiClient from './base';\n\nexport default class SettingsApiClient extends BaseApiClient {\n    constructor(component) {\n        super('settings', component);\n    }\n} ","export default class StringUtils {\n    static isContains(text, string){\n        return text.toLowerCase().includes(string.toLowerCase());\n    }\n} ","import React from 'react';\nimport Select from 'react-select'\nimport { FiltersValue, Tag, FiltersValueDiff } from '../../types/index';\nimport './Filters.css';\n\ninterface FiltersProps {\n    filters: FiltersValue;\n    tags: Tag[];\n    onFiltersChange: (filters: FiltersValueDiff) => void;\n}\n\nexport default class Filters extends React.Component<FiltersProps, {}> {\n  render(){\n    var filters = this.props.filters;\n    return (\n      <form id=\"Filters\">\n        <label>Filter</label>:{' '}\n        <span className=\"fieldInline\">\n          <label>by title & text</label>{' '}\n          <input type=\"text\" id=\"textFilter\" value={filters.text} onChange={e => this.props.onFiltersChange({text: e.target.value})} key=\"textFilter\" />\n        </span>\n        <span className=\"fieldInline\">\n          <label>by tags</label>{' '}\n          <Select id=\"tagsFilter\" value={filters.tags} isMulti options={this.props.tags} onChange={(v: any) => this.props.onFiltersChange({tags: v})}></Select>\n        </span>\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport { SortValue, SortValueDiff, SortField, SortDirection } from '../../types/index';\nimport './Sort.css';\n\ninterface SortProps {\n    sort: SortValue;\n    onSortChange: (sort: SortValueDiff) => void;\n}\n\nexport default class Sort extends React.Component<SortProps, {}> {\n  render(){\n    var sort = this.props.sort;\n    var fields = [\n      {id: 'dateOfUpdate', name: 'date of update'}, \n      {id: 'dateOfCreate', name: 'date of create'}\n    ];\n    var fieldOptions = fields.map(o => <option key={o.id} value={o.id}>{o.name}</option>);\n    var directions = [ \n      {id: 'desc', name: 'descending'},\n      {id: 'asc', name: 'ascending'}\n    ];\n    var directionOptions = directions.map(o => <option key={o.id} value={o.id}>{o.name}</option>);\n    return (\n      <form id=\"Sort\">\n        <label>Sort</label>:{' '}\n        <span className=\"fieldInline\">\n          <label>by</label>{' '}\n          <select id=\"sortField\" value={sort.field} onChange={(e) => this.props.onSortChange({field: e.target.value as SortField})}>\n            {fieldOptions}\n          </select>{' '}\n          <label>in</label>{' '}\n          <select id=\"sortDirection\" value={sort.direction} onChange={(e) => this.props.onSortChange({direction: e.target.value as SortDirection})}>\n            {directionOptions}\n          </select>{' '}\n          <label>order</label>\n        </span>\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport RichTextEditor from 'react-rte';\nimport { EditorValue } from \"react-rte\";\n\ninterface TextEditorProps {\n    value: string;\n    onChange: (value: string) => void;\n}\n\ninterface TextEditorState {\n    value: EditorValue;\n}\n\nexport default class TextEditor extends React.Component<TextEditorProps, TextEditorState> {\n  state = {\n    value: RichTextEditor.createValueFromString(this.props.value, 'html')\n  }\n\n  onChange = (value: EditorValue) => {\n    this.setState({value});\n    // Send the changes up to the parent component as an HTML string.\n    // This is here to demonstrate using `.toString()` but in a real app it\n    // would be better to avoid generating a string on each change.\n    this.props.onChange(\n      value.toString('html')\n    );\n  };\n\n  render () {\n    return (\n      <RichTextEditor\n        value={this.state.value}\n        onChange={this.onChange}\n      />\n    );\n  }\n}","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport TextEditor from '../TextEditor/TextEditor';\nimport Creatable from 'react-select/creatable';\nimport Button from '@material-ui/core/Button';\nimport { Item, Tag, ItemDiff, Setting } from '../../types/index';\nimport './Form.css';\n\ninterface FormProps {\n    item: Item;\n    tags: Tag[];\n    sending: boolean;\n    changed: boolean;\n    onItemChange: (item: ItemDiff) => void;\n    onCreateTag: (tagName: string) => void;\n    onPublicLinkCopy: () => void;\n    onSubmit: (e: React.FormEvent<HTMLFormElement>) => void;\n    submitEnabled: Setting['notesFormManualSubmitEnabled'];\n}\n\nexport default class Form extends React.Component<FormProps, {}> {\n  titleInput!: HTMLInputElement | null;\n  publicLinkInput!: HTMLInputElement | null;\n\n  componentDidMount(){\n    this.titleInput && this.titleInput.focus();\n  }\n\n  copyPublicLink() {\n    if (this.publicLinkInput){\n      this.publicLinkInput.focus();\n      this.publicLinkInput.select();\n    }\n  \n    try {\n      document.execCommand('copy');\n      this.props.onPublicLinkCopy();\n    } catch (err) {\n      console.error('unable to copy', err);\n    }\n  }\n\n  render(){\n    var item = this.props.item;\n    /* \n    var accessLevelOptions = this.props.accessLevels.map(l => <option key={l.id} value={l.id}>{l.name}</option>);\n    var accessLevelSelect = <select id=\"accessLevel\" value={item.accessLevel} onChange={e => this.props.onItemChange({accessLevel: +e.target.value})}>\n      {accessLevelOptions}\n    </select> \n    */\n    var publicLink = window.location.origin + '/notes/public/' + item._id;\n    var publicLinkCont = <>\n      <input type=\"text\" id=\"publicLink\" value={publicLink} readOnly ref={i => this.publicLinkInput = i} />\n      <IconButton id=\"copyPublicLink\" title=\"Copy public link\" onClick={e => this.copyPublicLink()}><FileCopyIcon /></IconButton>\n    </>;\n    return (\n      <form id=\"Form\" onSubmit={this.props.onSubmit} key={item._id}>\n        <input type=\"hidden\" id=\"id\" value={item._id} readOnly />\n        <div className=\"fieldBlock\" id=\"titleAndPublicAccess\">\n          <input type=\"text\" id=\"title\" value={item.title} onChange={e => this.props.onItemChange({title: e.target.value})} autoFocus\n            ref={i => this.titleInput = i} />\n          <label htmlFor=\"publicAccess\">\n            <input type=\"checkbox\" id=\"publicAccess\" checked={item.publicAccess} onChange={e => this.props.onItemChange({publicAccess: e.target.checked})} />\n            Public access \n            {/* item.publicAccess ? 'for ' : '' */}\n          </label>{' '}\n          {item.publicAccess && publicLinkCont}\n          {/* item.publicAccess ? accessLevelSelect : null */}\n        </div>\n        <div className=\"fieldBlock\">\n          <TextEditor value={item.text} onChange={(value: string) => this.props.onItemChange({text: value})} />\n        </div>\n        <div className=\"fieldBlock\">\n          <Creatable id=\"tags\" isMulti options={this.props.tags} value={item.tags} onChange={(value: any) => this.props.onItemChange({tags: value})}\n            onCreateOption={this.props.onCreateTag}></Creatable>\n        </div>\n        {this.props.submitEnabled ? <div className=\"fieldBlock\">\n          <Button variant=\"outlined\" type=\"submit\" id=\"submit\" disabled={this.props.sending}>{this.props.sending ? 'Sending...' : 'Submit'}</Button>\n        </div> : null}\n        <span id=\"formState\">{this.props.sending ? 'Saving...' : (this.props.changed ? 'Changed' : (item._id ? 'Saved' : ''))}</span>\n      </form>\n    );\n  }\n}\n","export default class DateUtils {\n    static toStr(date) {\n        var dateStr = date instanceof Date ? date.toISOString() : date || '';\n        return dateStr.replace('T', ' ').substr(0, 19);\n    }\n} ","import React from 'react';\nimport DateUtils from '../../utils/DateUtils';\nimport { Link } from \"react-router-dom\";\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { Item } from '../../types/index';\nimport './List.css';\n\ninterface ListProps {\n    items: Item[];\n    item: Item | null | undefined;\n    loading: boolean;\n    onDeleteItem: (item: Item) => void;\n}\n\nexport default class List extends React.Component<ListProps, {}> {\n  constructor(props: ListProps) {\n    super(props);\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  onDelete(e: React.MouseEvent, item: Item){\n    e.stopPropagation(); \n    e.preventDefault();\n    this.props.onDeleteItem(item);\n  }\n\n  strip(html: string){\n    var doc = new DOMParser().parseFromString(html, 'text/html');\n    return doc.body.textContent || \"\";\n  }\n\n  buildNodes(){\n    var nodes = this.props.items.map(item => {\n      if (!item._id){\n        return null;\n      }\n      var opened = this.props.item && this.props.item._id === item._id ? 'opened' : '';\n      var tags = (item.tags || []).map(tag => <span className=\"tag\" data-id={tag.value} key={tag.value}>{tag.label}</span>);\n      var aside = (<div className=\"aside\">\n        <div className=\"aside-inner\">\n          <span className=\"dateOfCreate\" title=\"Date of create\">{DateUtils.toStr(item.dateOfCreate)}</span>\n          <span className=\"dateOfUpdate\" title=\"Date of update\">{DateUtils.toStr(item.dateOfUpdate)}</span>\n          <div className=\"tags\">{tags}</div>\n        </div>\n        <IconButton className=\"delete\" title=\"Delete note\" onClick={(e) => window.confirm('Delete this item?') && this.onDelete(e, item)}>\n          <DeleteIcon />\n        </IconButton>\n      </div>);\n      return (\n        <li key={item._id} className={opened}>\n          <Link to={'/notes/' + item._id}>\n            {aside}\n            <div className=\"title\">{item.title}</div>\n            <div className=\"text\">{this.strip(item.text)}</div>\n          </Link>\n        </li>\n      );\n    });\n    return nodes.length ? nodes : <li>No items found</li>;\n  }\n\n  render(){\n    return (\n      <ul id=\"List\">\n        {this.props.loading ? <li>Loading...</li> : this.buildNodes()}\n      </ul>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { amber, green } from '@material-ui/core/colors';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  success: {\n    backgroundColor: green[600],\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  warning: {\n    backgroundColor: amber[700],\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n}));\n\ninterface AlertProps {\n  className?: string;\n  message?: string;\n  onClose?: () => void;\n  variant: keyof typeof variantIcon;\n}\n\nfunction AlertContent(props: AlertProps) {\n  const classes = useStyles();\n  const { className, message, onClose, variant, ...other } = props;\n  const Icon = variantIcon[variant];\n\n  return (\n    <SnackbarContent\n      className={clsx(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\n          <CloseIcon className={classes.icon} />\n        </IconButton>,\n      ]}\n      {...other}\n    />\n  );\n}\n\nAlertContent.propTypes = {\n  className: PropTypes.string,\n  message: PropTypes.node,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n};\n\nexport default function Alert(props: AlertProps) {\n    const {variant, message, onClose} = props;\n    const [open, setOpen] = React.useState(true);\n  \n    function handleClose() {\n        setOpen(false);\n        onClose && onClose();\n    }\n\n    return (\n        <Snackbar\n            anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n            }}\n            open={open}\n            autoHideDuration={2000}\n            onClose={handleClose}\n        >\n            <AlertContent\n                onClose={handleClose}\n                variant={variant}\n                message={message}\n            />\n        </Snackbar>\n    );\n}","import React from 'react';\nimport { Item } from '../../types/index';\nimport './ReadonlyNote.css';\n\ninterface ReadonlyNoteProps {\n    item: Item;\n}\n\nexport default class ReadonlyNote extends React.Component<ReadonlyNoteProps, {}> {\n    render(){\n        var item = this.props.item;\n        return (\n            <div id=\"ReadonlyNote\">\n                <h2 className=\"title\">{item.title}</h2>\n                <div className=\"text\" dangerouslySetInnerHTML={ {__html: item.text} }></div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport NotesApiClient from '../../api-clients/notes';\nimport SettingsApiClient from '../../api-clients/settings';\nimport StringUtils from '../../utils/StringUtils';\nimport Filters from '../../components/Filters/Filters';\nimport Sort from '../../components/Sort/Sort';\nimport Form from '../../components/Form/Form';\nimport List from '../../components/List/List';\nimport Alert from '../../components/Alert/Alert';\nimport ReadonlyNote from '../../components/ReadonlyNote/ReadonlyNote';\nimport DateUtils from '../../utils/DateUtils';\nimport AddIcon from '@material-ui/icons/AddCircle';\nimport { Item, FiltersValue, SortValue, ItemDiff, Tag, FiltersValueDiff, SortValueDiff, Setting } from '../../types/index';\nimport { RouteComponentProps } from \"react-router-dom\";\nimport './Notes.css';\n\ninterface AppProps extends RouteComponentProps {\n    match: {\n        params: {\n            id: string\n        }; \n        isExact: boolean; \n        path: string; \n        url: string;\n    };\n}\n\ninterface AppState {\n    item: Item | null | undefined;\n    items: Item[];\n    filters: FiltersValue;\n    sort: SortValue;\n    loading: boolean;\n    formChanged: boolean;\n    submitting: boolean;\n    error: string;\n    publicLinkCopied: boolean;\n    formManualSubmitEnabled: Setting['notesFormManualSubmitEnabled'];\n}\n\nexport default class Notes extends React.Component<AppProps, AppState> {\n  tags: Tag[]; // TODO: move to state\n  accessLevels: {id: number, name: string}[];\n  history: RouteComponentProps['history'];\n  stopListeningHistory: () => void;\n  notesApiClient: NotesApiClient;\n  autosaveTimeoutID: number;\n\n  constructor(props: AppProps) {\n    super(props);\n    var id = props.match.params.id;\n    var item = id === 'new' ? this.buildEmptyItem() : null;\n    this.state = {\n      item: item,\n      items: [],\n      filters: {text: '', tags: []},\n      sort: {field: 'dateOfUpdate', direction: 'desc'},\n      loading: false,\n      formChanged: false,\n      submitting: false,\n      error: '',\n      publicLinkCopied: false,\n      formManualSubmitEnabled: false\n    };\n    this.tags = [];\n    this.accessLevels = [{id: 1, name: 'viewing'}, {id: 2, name: 'editing'}];\n    this.history = props.history;\n    this.stopListeningHistory = this.history.listen(location => {\n      this.getItemByLocation(this.state.items);\n    });\n    this.notesApiClient = new NotesApiClient(this);\n    this.autosaveTimeoutID = 0;\n    this.onOpenNew = this.onOpenNew.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onDeleteItem = this.onDeleteItem.bind(this);\n    this.onFiltersChange = this.onFiltersChange.bind(this);\n    this.onSortChange = this.onSortChange.bind(this);\n    this.onCreateTag = this.onCreateTag.bind(this);\n    this.onItemChange = this.onItemChange.bind(this);\n    this.onItemChangePartially = this.onItemChangePartially.bind(this);\n    this.onPublicLinkCopy = this.onPublicLinkCopy.bind(this);\n  }\n  \n  getItemIDFromLocation(){\n    return window.location.pathname.split('notes/')[1];\n  }\n  \n  getPublicItemIDFromLocation(){\n    var id = this.getItemIDFromLocation() || '';\n    return id.split('public/')[1];\n  }\n\n  isPublicItemLocation(){\n    return !!this.getPublicItemIDFromLocation();\n  }\n\n  getItemByLocation(items: Item[]){\n    var cb = (item: Item | undefined) => this.setState({items: items, item: item});\n    var id = this.getItemIDFromLocation();\n    var item = id === 'new' ? this.buildEmptyItem() : items.find(i => i._id === id);\n    if (id && id !== 'new' && !item){\n      var publicID = this.getPublicItemIDFromLocation();\n      if (publicID){\n        this.notesApiClient.getPublic(publicID, (item: Item) => {\n          cb(item);\n        });\n      }\n      else {\n        this.setState({error: 'note with specified id not found'});\n      }\n    }\n    cb(item);\n  }\n\n  loadSettings(){\n    return new Promise((resolve, reject) => {\n      new SettingsApiClient().getAll((settings: Setting[]) => {\n        var setting = settings[0] || {};\n        this.setState({formManualSubmitEnabled: setting.notesFormManualSubmitEnabled});\n        resolve();\n      });\n    });\n  }\n\n  loadItems(){\n    return new Promise((resolve, reject) => {\n      this.notesApiClient.getAll((items: Item[]) => {\n        this.getItemByLocation(items);\n        resolve();\n      });\n    });\n  }\n\n  componentDidMount() {\n    if (this.isPublicItemLocation()){\n      this.getItemByLocation([]);\n      return;\n    }\n    Promise.all([this.loadSettings(), this.loadItems()]);\n  }\n\n  componentWillUnmount() {\n    this.stopListeningHistory();\n  }\n\n  buildEmptyItem(): Item {\n    return {_id: '', title: '', text: '', tags: [], dateOfCreate: new Date(), dateOfUpdate: new Date(), publicAccess: false};\n  }\n\n  onOpenNew(){\n    var emptyItem = this.buildEmptyItem();\n    this.setState({item: emptyItem});\n  }\n\n  onSubmit(e: React.FormEvent<HTMLFormElement> | null, item = this.state.item){\n    e && e.preventDefault();\n    if (!item || (!item.title && !item.text)){\n      return;\n    }\n    if (!item._id){\n      item.dateOfCreate = new Date();\n    }\n    item.dateOfUpdate = new Date();\n    if (item._id){\n      this.updateItem(item, i => this.onItemChange(i, false));\n    }\n    else {\n      this.createItem(item, i => this.onItemChange(i, true));\n    }\n  }\n\n  createItem(item: Item, cb: (i: Item) => void){\n    this.notesApiClient.create(item, cb);\n  }\n\n  updateItem(item: Item, cb: (i: Item) => void){\n    this.notesApiClient.update(item, cb);\n  }\n\n  // TODO: move to Utils\n  isObjectsEqual(obj1: any, obj2: any){\n    return JSON.stringify(obj1) === JSON.stringify(obj2);\n  }\n\n  isItemsDiffer(item1: Item, item2: AppState['item']){\n    if (!item2){\n      return true;\n    }\n    return item1.title !== item2.title || \n           item1.text !== item2.text || \n           item1.publicAccess !== item2.publicAccess || \n           // item1.accessLevel !== item2.accessLevel || \n           !this.isObjectsEqual(item1.tags, item2.tags);\n  }\n\n  onItemChange(item: Item, isNew?: boolean){\n    item = {...this.state.item, ...item};\n    var isChanged = this.isItemsDiffer(item, this.state.item);\n    var items = this.state.items;\n    if (!isNew){\n      items = items.filter(i => i._id !== item._id); // remove old version\n    }\n    items.push(item);\n    this.setState({items: items, item: item, formChanged: isChanged});\n    isNew && this.history.push('/notes/' + item._id);\n    if (isChanged && !this.state.submitting && !this.state.formManualSubmitEnabled){\n      window.clearTimeout(this.autosaveTimeoutID);\n      this.autosaveTimeoutID = window.setTimeout(() => {\n        this.onSubmit(null, item);\n      }, 1000);\n    }\n  }\n\n  onDeleteItem(item: Item){\n    var items = this.state.items;\n    items = items.filter(i => i._id !== item._id);\n    this.notesApiClient.remove(item, () => {\n      var openedItem = this.state.item && this.state.item._id === item._id ? null : this.state.item;\n      this.setState({items: items, item: openedItem});\n      this.history.push('/notes');\n    });\n  }\n\n  onFiltersChange(filters: FiltersValueDiff){\n    let newFilters = {...this.state.filters, ...filters};\n    this.setState({filters: newFilters});\n  }\n\n  onSortChange(sort: SortValueDiff){\n    let newSort = {...this.state.sort, ...sort};\n    this.setState({sort: newSort});\n  }\n\n  filter(items: Item[]){\n    return items.filter(i => {\n      // text\n      var text = this.state.filters.text;\n      var useTextFilter = !!text;\n      var matchByText = useTextFilter ? StringUtils.isContains(i.text, text) || StringUtils.isContains(i.title, text) : true;\n      // tags\n      var tags = this.state.filters.tags;\n      var filterTagIDs = tags ?   tags.map(t => t.value) : [];\n      var itemTagIDs = i.tags ? i.tags.map(t => t.value) : [];\n      var useTagsFilter = tags && !!tags.length;\n      var matchByTags = useTagsFilter ? itemTagIDs.some(itemTagID => filterTagIDs.includes(itemTagID)) : true;\n      // match\n      var useFilters = useTextFilter || useTagsFilter;\n      return useFilters && i._id \n        ? (\n          (useTextFilter ? matchByText : true) && \n          (useTagsFilter ? matchByTags : true)\n        )\n        : true;\n    });\n  }\n\n  sort(items: Item[]){\n    var field = this.state.sort.field;\n    var sign = this.state.sort.direction === 'asc' ? 1 : -1;\n    return items.sort((i1, i2) => {\n      var v1 = i1[field];\n      var v2 = i2[field];\n      if (field.includes('date')){\n        v1 = DateUtils.toStr(v1);\n        v2 = DateUtils.toStr(v2);\n      }\n      return v1 > v2 ? sign : (v1 < v2 ? -sign : 0);\n    })\n  }\n\n  // TODO: load from DB\n  buildTagList(){\n    return this.state.items.reduce((tags: Tag[], item) => tags.concat(item.tags || []), []);\n  }\n\n  onCreateTag(tagName: string) {\n    var maxID = Math.max.apply(Math, this.tags.map(t => t.value));\n    var newID = maxID < 0 ? 1 : maxID + 1;\n    var tag = { value: newID, label: tagName };\n    this.tags.push(tag);\n    var item: ItemDiff = {};\n    item.tags = this.state.item ? this.state.item.tags.slice() : [];\n    item.tags.push(tag);\n    this.onItemChangePartially(item);\n  }\n\n  onItemChangePartially(item: ItemDiff) {\n    this.onItemChange(item as Item);\n  }\n\n  onPublicLinkCopy(){\n    this.setState({publicLinkCopied: true});\n  }\n\n  render(){\n    if (this.state.item && this.isPublicItemLocation()){\n      return <ReadonlyNote item={this.state.item} />;\n    }\n    return (\n      <div id=\"Notes\">\n        <div>\n          <Link to={'/notes/new'} id=\"openNew\" onClick={this.onOpenNew}><AddIcon /> Open new</Link>\n          {this.state.error && <div className=\"alert error\" id=\"notesError\">{this.state.error}</div>}\n          {this.state.publicLinkCopied && <Alert variant=\"success\" message=\"Copied!\" onClose={() => this.setState({publicLinkCopied: false})} />}\n        </div>\n        {this.renderBody()}\n      </div>\n    );\n  }\n\n  filterAndSortItems(items: Item[]){\n    var filteredItems = this.filter(items);\n    var sortedItems = this.sort(filteredItems);\n    return sortedItems;\n  }\n\n  renderBody(){\n    var items = this.filterAndSortItems(this.state.items);\n    this.tags = this.buildTagList();\n\n    var form = null;\n    var item = this.state.item;\n    if (item){\n      form = <Form item={item} onSubmit={this.onSubmit} submitEnabled={this.state.formManualSubmitEnabled} tags={this.tags} \n        /* accessLevels={this.accessLevels} */\n        onCreateTag={this.onCreateTag} onItemChange={this.onItemChangePartially} onPublicLinkCopy={this.onPublicLinkCopy} \n        sending={this.state.submitting} changed={this.state.formChanged}></Form>;\n    }\n\n    return (\n      <div id=\"wrap\">\n        <div id=\"aside\">\n          <div id=\"filtersAndSortCont\">\n            <div id=\"filtersCont\">\n              <Filters filters={this.state.filters} onFiltersChange={this.onFiltersChange} tags={this.tags}></Filters>\n            </div>\n            <div id=\"sortCont\">\n              <Sort sort={this.state.sort} onSortChange={this.onSortChange}></Sort>\n            </div>\n          </div>\n          <div id=\"listCont\">\n            <List items={items} item={item} onDeleteItem={this.onDeleteItem} loading={this.state.loading}></List>\n          </div>\n        </div>\n        <div id=\"formCont\">\n          {form}\n        </div>\n      </div>\n    );\n  }\n}\n","import BaseApiClient from './base';\n\nexport default class SessionsApiClient extends BaseApiClient {\n    constructor(component) {\n        super('sessions', component);\n    }\n} ","import React from 'react';\nimport { CircularProgress, Table, TableHead, TableBody, TableRow, TableCell, IconButton } from '@material-ui/core';\nimport CheckIcon from '@material-ui/icons/Check';\nimport BlockIcon from '@material-ui/icons/Block';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport UsersApiClient from '../../api-clients/users';\nimport SessionsApiClient from '../../api-clients/sessions';\nimport DateUtils from '../../utils/DateUtils';\nimport _ from 'lodash';\nimport { User, Session } from '../../types/index';\nimport './Users.css';\n\ntype UsersPromises = [Promise<User[]>, Promise<Session[]>];\n\ninterface UsersState {\n    users: User[],\n    sessionsByUser: {[userID: string]: Session[]},\n    loading: boolean,\n    updatingUserID: string | null\n}\n\ntype UserAction = 'block' | 'unblock' | 'delete';\n\nfunction getUsersPromise(cmp: React.Component) {\n    return new Promise<User[]>((resolve, reject) => {\n        new UsersApiClient(cmp).getAll((users: User[]) => resolve(users));\n    });\n}\n\nfunction getSessionsPromise(cmp: React.Component) {\n    return new Promise<Session[]>((resolve, reject) => {\n        new SessionsApiClient(cmp).getAll((sessions: Session[]) => resolve(sessions));\n    });\n}\n\nexport default class Users extends React.Component<{}, UsersState> {\n    usersAPIClient: UsersApiClient;\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            users: [],\n            sessionsByUser: {},\n            loading: false,\n            updatingUserID: null\n        }\n        this.usersAPIClient = new UsersApiClient(this);\n    }\n\n    componentDidMount() {\n        var promises: UsersPromises = [getUsersPromise(this), getSessionsPromise(this)];\n        Promise.all(promises).then((result) => {\n            var users = result[0];\n            var sessionsByUser = _.groupBy(result[1], s => s.userID);\n            this.setState({users, sessionsByUser});\n        });\n    }\n\n    onControlClick(user: User, action: UserAction){\n        if (['block', 'unblock'].includes(action)){\n            this.setState({updatingUserID: user._id || ''});\n            user.blocked = action === 'block';\n            this.usersAPIClient.update(user, (user: User) => {\n                var users = this.state.users.filter(u => u._id !== user._id);\n                users.push(user);\n                this.setState({updatingUserID: null, users: users});\n            });\n        }\n        if (action === 'delete'){\n            if (!window.confirm('Delete this user?')){\n                return;\n            }\n            this.setState({updatingUserID: user._id || ''});\n            this.usersAPIClient.remove(user, () => {\n                var users = this.state.users.filter(u => u._id !== user._id);\n                this.setState({updatingUserID: null, users: users});\n            });\n        }\n    }\n    \n    renderActionBtn(user: User, action: UserAction, title: string, disabled: boolean, icon: React.ReactNode){\n        return ( \n            <IconButton onClick={e => this.onControlClick(user, action)} className={'actionBtn'} title={title} disabled={disabled}>\n                {icon}\n            </IconButton>\n        );\n    }\n    \n    renderActionBtns(user: User, disabled: boolean){\n        var blockBtn = this.renderActionBtn(user, 'block', 'Block', disabled, <BlockIcon />);\n        var unblockBtn = this.renderActionBtn(user, 'unblock', 'Unblock', disabled, <BlockIcon color=\"error\" />);\n        var deleteBtn = this.renderActionBtn(user, 'delete', 'Delete', disabled, <DeleteIcon />);\n        return (<>\n            {user.blocked ? unblockBtn : blockBtn}\n            {deleteBtn}\n        </>);\n    }\n\n    renderTableRow(user: User){\n        var userSessions = this.state.sessionsByUser[user._id || ''];\n        var activeSessions = userSessions.filter(s => s.active && s.expireDate > new Date().toISOString());\n        var disabled = user._id === this.state.updatingUserID;\n        return (\n            <TableRow key={user._id}>\n                <TableCell component=\"th\" scope=\"row\">{user.login}</TableCell>\n                <TableCell>{DateUtils.toStr(user.registrationDate)}</TableCell>\n                <TableCell>{userSessions.length}</TableCell>\n                <TableCell>{activeSessions.length ? <CheckIcon /> : null}</TableCell>\n                <TableCell>{user.isAdmin ? <CheckIcon /> : null}</TableCell>\n                <TableCell>{this.renderActionBtns(user, disabled)}</TableCell>\n            </TableRow>\n        );\n    }\n\n    render(){\n        var users = _.sortBy(this.state.users, u => u._id);\n        return this.state.loading ? <CircularProgress /> : (\n            <Table id=\"Users\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Login</TableCell>\n                        <TableCell>Registration date</TableCell>\n                        <TableCell>Sessions count</TableCell>\n                        <TableCell>Has active sessions</TableCell>\n                        <TableCell>Is admin</TableCell>\n                        <TableCell>Actions</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {users.map(u => this.renderTableRow(u))}\n                </TableBody>\n            </Table>\n        );\n    }\n}","import React from 'react';\nimport { CircularProgress, FormControl, FormLabel, FormGroup, FormControlLabel, Checkbox } from '@material-ui/core';\nimport SettingsApiClient from '../../api-clients/settings';\nimport { Setting } from '../../types/index';\nimport './Settings.css';\n\ninterface SettingsState {\n    setting: Setting,\n    loading: boolean,\n    submitting: boolean\n}\n\nexport default class Settings extends React.Component<{}, SettingsState> {\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            setting: {},\n            loading: false,\n            submitting: false\n        };\n    }\n\n    componentDidMount() {\n        new SettingsApiClient(this).getAll((settings: Setting[]) => {\n            var setting = settings[0] || {};\n            this.setState({setting});\n        });\n    }\n\n    handleCheck(e: React.ChangeEvent<HTMLInputElement>) {\n        var setting = Object.assign(this.state.setting, {notesFormManualSubmitEnabled: e.target.checked});\n        new SettingsApiClient(this).update(setting, (setting: Setting) => {\n            this.setState({setting});\n        });\n    }\n\n    render(){\n        return this.state.loading ? <CircularProgress /> : (\n            <div id=\"Settings\">\n                <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">Notes</FormLabel>\n                    <FormGroup>\n                        <FormControlLabel\n                            label='Manual form submit' \n                            control={\n                                <Checkbox\n                                    onChange={e => this.handleCheck(e)}\n                                    checked={this.state.setting.notesFormManualSubmitEnabled || false}\n                                    disabled={this.state.submitting}\n                                />\n                            }\n                        />\n                    </FormGroup>\n                </FormControl>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Users from '../../components/Users/Users';\nimport Settings from '../../components/Settings/Settings';\nimport AuthUtils from '../../utils/AuthUtils';\nimport './Admin.css';\n\ninterface TabPanelProps {\n  children: React.ReactNode;\n  tabID: string;\n  activeTabID: string;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n    const { children, activeTabID, tabID } = props;\n    return activeTabID === tabID ? <>{children}</> : <></>;\n}\n\nexport default function Admin() {\n    const [currTabID, setCurrTabID] = React.useState('Users');\n\n    if (!AuthUtils.isAdmin()){\n        return 'This page needs admin session';\n    }\n\n    function handleChange(event: React.ChangeEvent<{}>, newTabID: string) {\n        setCurrTabID(newTabID);\n    }\n    \n    var tabComponents: {[key: string]: React.ReactNode} = {\n        'Users': <Users />, \n        'Settings': <Settings />\n    };\n    var tabIDs = Object.keys(tabComponents);\n    var tabs = tabIDs.map(tabID => <Tab label={tabID} value={tabID} key={tabID} />);\n    var tabPanels = tabIDs.map(tabID => <TabPanel activeTabID={currTabID} tabID={tabID} key={tabID}>\n        {tabComponents[tabID]}\n    </TabPanel>);\n    return (\n        <div id=\"Admin\">\n            <Tabs value={currTabID} onChange={handleChange}>{tabs}</Tabs>\n            {tabPanels}\n        </div>\n    );\n}","import React from 'react';\nimport { BrowserRouter as Router, Route, Redirect, NavLink, withRouter } from \"react-router-dom\";\nimport UsersApiClient from './api-clients/users';\nimport AuthUtils from './utils/AuthUtils';\nimport Landing from './pages/Landing/Landing';\nimport Registration from './pages/Registration/Registration';\nimport Login from './pages/Login/Login';\nimport Notes from './pages/Notes/Notes';\nimport Admin from './pages/Admin/Admin';\n\nfunction AdminRoute({ component: Component, ...rest }) {\n    return (\n        <Route {...rest} render={props =>\n            AuthUtils.isAdmin() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\n            )\n        }/>\n    );\n}\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n    return (\n        <Route {...rest} render={props =>\n            AuthUtils.isLoggedIn() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect to={{ pathname: \"/login\", state: { from: props.location } }} />\n            )\n        }/>\n    );\n}\n\nclass Head extends React.Component {\n    state = { submitting: false };\n\n    logout(e){\n        e.preventDefault();\n        (new UsersApiClient(this)).logout(() => {\n            AuthUtils.setSession(null);\n            this.props.history.push(\"/login\");\n        });\n    }\n\n    getNavLink(props){\n        var isNotLoggedIn = props.private && !AuthUtils.isLoggedIn();\n        var isNotAdmin = props.admin && !AuthUtils.isAdmin();\n        if (isNotLoggedIn || isNotAdmin){\n            return null;\n        }\n        return (\n            <NavLink to={props.to} exact={props.exact} onClick={props.onClick} key={props.to}>{props.label}</NavLink>\n        );\n    }\n    \n    getAuthState(){\n        var isLoggedIn = AuthUtils.isLoggedIn();\n        var loggedAs = <span id=\"loggedAsCont\" key=\"loggedAsCont\">\n            Logged in as <span id=\"loggedAs\">{isLoggedIn && AuthUtils.getSession().loggedAs}</span>\n        </span>;\n        var logoutLabel = this.state.submitting ? 'Logging out...' : 'Log out';\n        var logoutLink = this.getNavLink({label: logoutLabel, to: \"/logout\", onClick: e => this.logout(e)});\n        var loginLabel = 'Log in';\n        var loginLink = this.getNavLink({label: loginLabel, to: \"/login\"});\n        return isLoggedIn ? [loggedAs, logoutLink] : loginLink;\n    }\n\n    render(){\n        var navItems = [\n            {label: \"Home\", to: \"/\", exact: true},\n            {label: \"Register\", to: \"/register\"},\n            {label: \"Notes\", to: \"/notes\", private: true},\n            {label: \"Admin\", to: \"/admin\", admin: true},\n        ];\n        return (\n            <div id=\"head\">\n                <h1>ShortNote</h1>\n                <div id=\"nav\">\n                    {navItems.map(this.getNavLink)}\n                    {this.getAuthState()}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default class AppRouter extends React.Component {\n    render(){\n        var HeadWithRouter = withRouter(Head);\n        return (\n            <Router>\n                <HeadWithRouter />\n                <div id=\"body\">\n                  <Route path=\"/\" exact component={Landing} />\n                  <Route path=\"/register\" component={Registration} />\n                  <Route path=\"/login\" component={Login} />\n                  <Route path=\"/notes/public/:id\" exact component={Notes} />\n                  <PrivateRoute path={[\"/notes\", \"/notes/:id\"]} exact component={Notes} />\n                  <AdminRoute path={[\"/admin\"]} exact component={Admin} />\n                </div>\n            </Router>\n        );\n    }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppRouter from './AppRouter';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<AppRouter />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}